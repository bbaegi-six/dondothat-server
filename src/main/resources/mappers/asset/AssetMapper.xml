<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="org.bbagisix.asset.mapper.AssetMapper">
    <insert id="insert" parameterType="org.bbagisix.asset.domain.AssetVO">
        INSERT INTO user_asset (user_id, asset_name, balance, bank_nsame, bank_account, bank_id, bank_pw, created_at)
        VALUES (#{userId}, #{assetName}, #{balance}, #{bankName}, #{bankAccount}, #{bankId}, #{bankPw}, NOW())
    </insert>

    <update id="update" parameterType="org.bbagisix.asset.domain.AssetVO">
        UPDATE user_asset
        SET asset_name   = #{assetName},
            balance      = #{balance},
            bank_name    = #{bankName},
            bank_account = #{bankAccount},
            bank_id      = #{bankId},
            bank_pw      = #{bankPw}
        WHERE user_id = #{userId}
    </update>

    <select id="findByUserId" parameterType="long" resultType="org.bbagisix.asset.domain.AssetVO">
        SELECT asset_id, user_id, asset_name, balance, bank_name, bank_account, created_at
        FROM user_asset
        WHERE user_id = #{userId}
    </select>

    <select id="findById" parameterType="long" resultType="org.bbagisix.asset.domain.AssetVO">
        SELECT asset_id, user_id, asset_name, balance, bank_name, bank_account, created_at
        FROM user_asset
        WHERE asset_id = #{assetId}
    </select>

    <delete id="deleteByUserId" parameterType="long">
        DELETE
        FROM user_asset
        WHERE user_id = #{userId}
    </delete>

</mapper>